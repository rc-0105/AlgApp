<!-- Backdrop (solo visible cuando isExpanded) -->
@if (isExpanded) {
  <div 
    class="backdrop" 
    [@backdropAnimation]
    (click)="toggleCard()"
  ></div>
}

<!-- Carta (contiene la lÃ³gica principal) -->
<div 
  class="card"
  [@expandAnimation]="isExpanded ? 'expanded' : 'collapsed'"
  (click)="!isExpanded && toggleCard()"  
>
  <!-- Contenido colapsado -->
  @if (!isExpanded) {
    <div class="collapsed-content" [innerHTML]="collapsedContent"></div>
  }

  <!-- Contenido expandido -->
  @if (isExpanded) {
    <div class="expanded-content" [innerHTML]="expandedContent" (closeCard)="toggleCard()"></div>
    <button class="close-btn" (click)="toggleCard(); $event.stopPropagation()">Cerrar</button>
  }
</div>